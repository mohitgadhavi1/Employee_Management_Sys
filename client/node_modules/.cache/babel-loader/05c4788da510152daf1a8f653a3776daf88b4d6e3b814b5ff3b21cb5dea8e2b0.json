{"ast":null,"code":"import React,{useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{Link}from\"react-router-dom\";import{assignDepartment}from\"../store/features/employeeSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const EmployeeList=()=>{const employees=useSelector(state=>state.employees);const dispatch=useDispatch();const[selectedEmployee,setSelectedEmployee]=useState(null);const[showModal,setShowModal]=useState(false);const handleAssignDepartment=employee=>{setSelectedEmployee(employee);setShowModal(true);};const handleDepartmentSelection=departmentId=>{dispatch(assignDepartment({employeeId:selectedEmployee.id,departmentId}));setShowModal(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Employee List\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Position\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Department\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:employees.map(employee=>/*#__PURE__*/_jsxs(\"tr\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/employees/\".concat(employee.id),className:\"text-blue-500 hover:underline\",children:employee.name})}),/*#__PURE__*/_jsx(\"td\",{children:employee.email}),/*#__PURE__*/_jsx(\"td\",{children:employee.position}),/*#__PURE__*/_jsx(\"td\",{children:employee.department||\"Not Assigned\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-500 text-white rounded-md py-2 px-4 ml-2 hover:bg-green-600\",onClick:()=>handleAssignDepartment(employee),children:\"Assign Department\"})})]},employee.id))})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Select Department\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white rounded-md py-2 px-4 ml-2 hover:bg-blue-600\",onClick:()=>handleDepartmentSelection(/* selected departmentId */),children:\"Assign Department\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-500 text-white rounded-md py-2 px-4 ml-2 hover:bg-gray-600\",onClick:()=>setShowModal(false),children:\"Cancel\"})]})})]});};export default EmployeeList;","map":{"version":3,"names":["React","useState","useSelector","useDispatch","Link","assignDepartment","jsx","_jsx","jsxs","_jsxs","EmployeeList","employees","state","dispatch","selectedEmployee","setSelectedEmployee","showModal","setShowModal","handleAssignDepartment","employee","handleDepartmentSelection","departmentId","employeeId","id","className","children","map","to","concat","name","email","position","department","onClick"],"sources":["C:/Users/mohit/OneDrive/Desktop/Work/personal/IPANGRAM MERN TEST/client/src/routes/EmployeeList.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { assignDepartment } from \"../store/features/employeeSlice\";\r\n\r\nconst EmployeeList = () => {\r\n  const employees = useSelector((state) => state.employees);\r\n  const dispatch = useDispatch();\r\n\r\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const handleAssignDepartment = (employee) => {\r\n    setSelectedEmployee(employee);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleDepartmentSelection = (departmentId) => {\r\n    dispatch(\r\n      assignDepartment({ employeeId: selectedEmployee.id, departmentId })\r\n    );\r\n    setShowModal(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Employee List</h2>\r\n      <table className=\"w-full\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Email</th>\r\n            <th>Position</th>\r\n            <th>Department</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {employees.map((employee) => (\r\n            <tr key={employee.id} className=\"mb-4\">\r\n              <td>\r\n                <Link\r\n                  to={`/employees/${employee.id}`}\r\n                  className=\"text-blue-500 hover:underline\"\r\n                >\r\n                  {employee.name}\r\n                </Link>\r\n              </td>\r\n              <td>{employee.email}</td>\r\n              <td>{employee.position}</td>\r\n              <td>{employee.department || \"Not Assigned\"}</td>\r\n              <td>\r\n                <button\r\n                  className=\"bg-green-500 text-white rounded-md py-2 px-4 ml-2 hover:bg-green-600\"\r\n                  onClick={() => handleAssignDepartment(employee)}\r\n                >\r\n                  Assign Department\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {showModal && (\r\n\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\r\n          <div className=\"bg-white p-8 rounded-md\">\r\n            <h2 className=\"text-2xl font-bold mb-4\">Select Department</h2>\r\n      \r\n            <button\r\n              className=\"bg-blue-500 text-white rounded-md py-2 px-4 ml-2 hover:bg-blue-600\"\r\n              onClick={() =>\r\n                handleDepartmentSelection(/* selected departmentId */)\r\n              }\r\n            >\r\n              Assign Department\r\n            </button>\r\n            <button\r\n              className=\"bg-gray-500 text-white rounded-md py-2 px-4 ml-2 hover:bg-gray-600\"\r\n              onClick={() => setShowModal(false)}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeeList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}